# Optimizing-Hospital-Room-Utilization-using-Simulation
CS 4632 Modeling and Simulation Project aiming to simulate patient and provider scheduling hospital rooms based on specialties. using the Artificial Bee Colony Algorithm

# Project Overview and Introduction
With ever increasing demands on healthcare institutions and limited
exam rooms and beds in hospitals, clinical schedulers must manage
resources skillfully to reduce costs and provide quality care. One
of the biggest expenses of hospitals is the rooms that providers use
each day for outpatient care, and many hospitals still use inefficient
workflows to schedule their rooms leading to wasted space and longer
patient wait times. Over the past year, I have interned with provider
scheduling company QGenda working with software that monitors
the capacity of rooms as well as display that data in intuitive visuals
for hospital management.
<br/>
This project aims to create a simulation of appointment scheduling
across different departments to most efficiently use a limited set of
rooms. One of the challenges of room scheduling is matching differ-
ent types of rooms used by different departments to meet provider
needs while still using space efficiently. Hospital rooms will have dif-
ferent types of equipment constraining which providers can use the
space, but other rooms are available to be used by multiple special-
ties. This combined with the changing number of specialists available
from session to session adds complexity to creating a schedule.
<br/>
This project seeks to answer how we can efficiently assign rooms in
a schedule to maximize hospital profit and patient throughput. To
accomplish this, we will need to be able develop a stochastic model for
patient demand for appointments, model our active provider agents
looking for assignments that fit their specialty, and a set number
of room resources. We will assume that patient demand follows a
Poisson distribution, and that each room will hold one patient and one
provider creating an assignment. The model will treat assignments
as one block that fills a set duration.

# Project Status
Currently, each of the entity classes and implemented so that patients, providers, and rooms can be created for different specialties to model a hospital. For the creation of a schedule, the assignment class models an appointment with a provider, patient and a corresponding room. Each assignment needs an object from the each of the entities as well as a date, matching the design of the UML diagram. As of now, the architecture no longer needs a specialty parent class, as entities are only matched with their specialty to reduce complexity. The schedule class as well is not implemented and the generated schedule is stored in an array that can be printed in the console. 

In the FirstFit.java file, the First-Fit algorithm is implemented to take lists of patients, providers, and rooms over a set period of time to generate a schedule that attempts to schedule every patient. The algorithm works by looking through the possible patient/doctor/room pairings that fit the patients specialty need and then creating an assignment for the first possible time that has not already been scheduled. The algorithm runs with nested loops checking all of the potential combinations to create an assignment until a valid one is created and added to the schedule.

The Artificial Bee Colony algoithm is also implemented in the ABC.java file, however the algorithm still needs more adjusting as there are problems with duplicate assignments in the final output. The class implements each part of the ABC algorithm, initalization, employed bees, onlooker bees, scout bees, and looping accoring to the limit. The main way the algorithim is able to 

To test the algorithms, the CreateEntityList.java file contains methods for randomly generating patients, providers, and rooms with specialties randomly selected from a list that can be passed into the function.

In the future, I seek to fully implement the Artificial Bee Colony algorithm fully so the resulting schedules can be compared with the baseline First-Fit algorithm. As was noted with the original project proposal, metrics to compare the two algorithms and methods to analyze the resulting schedules will need to be further fleshed out and implemented. From the schedule data generated by the First Fit algorithm, comparing proivder usage as well as the number of patients successfully assigned will be a good starting point as weakness of the First Fit algorithm are not spreading the workload out across doctors as well as not being as efficient in managing room resources.

Compared to the original proposal, there have been some mostly minor changes in the class structure compared to the inital UML diagrams based on what is now practically necessary in the implementation. In the initial proposal, I mentioned possibly using the NSGA-II algoithm as well, however with using the simpler First-Fit algorithm as a baseline for comparison of resulting schedule data implementing NSGA-II myself is no longer necessary. Using a library to easier implement this algorithm could be an option to explore for the final implementation, but I beleive focusing on the ABC algorithm will yeild the best results and keep the project more focused.

# Installation Instructions

The project's current version uses a Test.java file which runs a hard coded simulation with randomly generated patients, providers, and rooms according to set parameters each run. The only packages used in the program are from the standard java libraries and the entities folder included in the repsotiory. To run the test simulation, you simply need to clone the Github repsoitory and run the Test.java file to output a schedule printed in the command line.

# Usage

As of now, there is no robust way to change the simulation parameters during the runtime of the program, and this could be addressed in the future by creating a command line reader menu to allow for setting parameters, changing the selected algorithm, and analyzing resulting schedule data. Currently, the expected output of the program is a list of the created patients, providers, and rooms with their randomly generated attributes followed by another separated list of patients and their respective appointments created by the scheduling algorithm. Some patients have "null" as their assignment if they were unable to be fit in the schedule for the allotted days.

# Architecture Overview

Each assignment needs an object from the each of the entities as well as a date, matching the design of the UML diagram. As of now, the architecture no longer needs a specialty parent class, as entities are only matched with their specialty to reduce complexity. The schedule class as well is not implemented and the generated schedule is stored in an array that can be printed in the console. 

In the FirstFit.java file, the First-Fit algorithm is implemented to take lists of patients, providers, and rooms over a set period of time to generate a schedule that attempts to schedule every patient. The algorithm works by looking through the possible patient/doctor/room pairings that fit the patients specialty need and then creating an assignment for the first possible time that has not already been scheduled. The algorithm runs with nested loops checking all of the potential combinations to create an assignment until a valid one is created and added to the schedule.

The Artificial Bee Colony algorithm follows the sequence diagram layed out in the initial proposal mostly closely, although the initial diagram could have better shown the phases by different types of bees in the algorithm. The most central parts of the algorithm involve the method to create the first random solution used for initalization, the method to evaluate the fitness of a given solution, and the method to copy a neighbor's solution. Using many different helper methods was useful in the implementation as the evaluation and copying of solutions is shared between the different types of bees with different roles. The solution class also is very important for comapring and keeping track of the fitness of different schedules throughout the iterations of bee searching. 

